##########
# Import #
##########
import os
import sys
import gdown
import zipfile

###############
# Import Util #
###############
sys.path.insert(0, "./")

from .info import *

sys.path.insert(0, f"{MAIN_DIR}/src")
sys.path.insert(0, f"{MAIN_DIR}/src/util")


########
# Main #
########
if __name__ == "__main__":
    if not os.path.isdir(f"{MAIN_DIR}/data"):
        os.mkdir(f"{MAIN_DIR}/data")
    if not os.path.isdir(f"{MAIN_DIR}/data/total_data"):
        os.mkdir(f"{MAIN_DIR}/data/total_data")

    zip_path = os.path.join(MAIN_DIR, "data/total_data.zip")
    output_path = os.path.join(MAIN_DIR, "data/total_data")

    # download
    gdown.download(id=DATASET_GID, output=zip_path, quiet=False)
    # unzip
    zipfile.ZipFile(zip_path).extractall(output_path)
    # delete zip file
    os.remove(os.path.join(MAIN_DIR, "data/total_data.zip"))
